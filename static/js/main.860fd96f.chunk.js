(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(e,t,a){},123:function(e,t,a){},124:function(e){e.exports={apiKey:"AIzaSyDzHqWsbK8_n21yixU-Eu8HyZsxokY3nmA",authDomain:"dungeon-4a353.firebaseapp.com",databaseURL:"https://dungeon-4a353.firebaseio.com",projectId:"dungeon-4a353",storageBucket:"dungeon-4a35    3.appspot.com",messagingSenderId:"566690549686",appId:"1:566690549686:web:591525bbe9b8b781"}},125:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(20),l=a.n(c),i=(a(100),a(82)),o=a(11),u=a(6),s=a.n(u),m=a(10),f=a(16),p=a(8),d=a(12),b=a(42),h=a.n(b),v=a(40),E=a(41),g=a(161),j=a(163),O=a(126),y=a(121);function x(){var e=Object(o.a)(["\n  position: absolute;\n  top: -0.8em;\n  left: 0em;\n  z-index: 100;\n"]);return x=function(){return e},e}function w(){var e=Object(o.a)(["\n  position: fixed;\n  bottom: 0.313em;\n  right: 0.313em;\n  display: none;\n  z-index: 1101;\n\n  @media screen and (max-width: 62.5em) {\n    display: initial;\n  }\n"]);return w=function(){return e},e}function k(){var e=Object(o.a)(["\n  position: fixed;\n  width: 22em;\n  height: 100vh;\n  top: 4em;\n  padding: 0em 1em;\n  right: 0em;\n  overflow-y: scroll;\n  z-index: 1100;\n\n  @media screen and (max-width: 62.5em) {\n    background-color: white;\n    box-shadow: lightgrey 1px 1px 0.313em;\n    top: 0em;\n    right: -25em;\n    transition: right 0.3s ease;\n\n    &.open {\n      right: 0em;\n    }\n  }\n"]);return k=function(){return e},e}function C(){var e=Object(o.a)(["\n  flex: 1;\n"]);return C=function(){return e},e}function S(){var e=Object(o.a)(["\n  display: flex;\n  justify-content: center;\n"]);return S=function(){return e},e}function N(){var e=Object(o.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  margin: .5rem;\n  align-items: center;\n"]);return N=function(){return e},e}function I(){var e=Object(o.a)(["\n  display: flex;\n  justify-content: center;\n  width: 100%;\n  margin: 25%;\n"]);return I=function(){return e},e}function T(){var e=Object(o.a)(["\n  display: flex;\n  align-items: center;\n  border-bottom: lightgray solid 1px;\n  margin-bottom: 1em;\n  & h1,\n  h2,\n  h3,\n  h4,\n  p {\n    margin: 0em;\n  }\n  & p {\n    font-size: 0.8em;\n  }\n"]);return T=function(){return e},e}function P(){var e=Object(o.a)(["\ndisplay: flex;\n  align-items: center;\n  border-top: lightgray solid 1px;\n  margin-top: 0.8em;\n  & h1,\n  h2,\n  h3,\n  h4,\n  p {\n    margin: 0.3em 0em;\n  }\n  & p {\n    font-size: 0.7em;\n  }\n"]);return P=function(){return e},e}function L(){var e=Object(o.a)(["\n  flex: 1;\n  display: grid;\n  grid-template-columns: 1fr 25em;\n  @media screen and (max-width: 62.5em) {\n    grid-template-columns: 1fr;\n  }\n"]);return L=function(){return e},e}function D(){var e=Object(o.a)(["\n  position: relative;\n  display: flex;\n  flex-direction: column;\n"]);return D=function(){return e},e}function z(){var e=Object(o.a)(["\n  position: relative;\n  background: white;\n  box-shadow: lightgray 1px 1px 0.313em;\n  border-radius: 0.313em;\n  padding: 0.625em;\n  display: flex;\n  flex-direction: column;\n  margin: 0.313em;\n"]);return z=function(){return e},e}function W(){var e=Object(o.a)(["\n  position: fixed;\n  bottom: 0.313em;\n  right: 0.313em;\n"]);return W=function(){return e},e}function F(){var e=Object(o.a)(["\n  width: 4.6875em;\n  height: 4.6875em;\n  margin-left: 0.625em;\n  margin-bottom: 0.625em;\n"]);return F=function(){return e},e}function _(){var e=Object(o.a)(["\n  display: flex;\n  align-items: center;\n  flex-direction: row-reverse;\n"]);return _=function(){return e},e}var q=d.a.span(_()),A=d.a.div(F()),B=d.a.span(W()),U=d.a.div(z()),H=d.a.div(D()),J=d.a.div(L()),R=d.a.div(P()),K=d.a.div(T()),M=d.a.div(I()),$=d.a.div(N()),G=d.a.div(S()),Q=d.a.span(C()),V=d.a.div(k()),X=d.a.div(w()),Y=d.a.span(x());var Z=function(e){var t=e.user;return r.a.createElement(g.a,{position:"fixed"},r.a.createElement(j.a,null,r.a.createElement(v.b,{to:"/"},r.a.createElement("h3",null,"Dungeon")),r.a.createElement(Q,null),t&&r.a.createElement(O.a,null,r.a.createElement(y.a,{alt:t.name,src:t.photo}))))},ee=a(13),te=a(168),ae=a(169),ne=a(167),re=a(179);function ce(e,t){var a=Math.floor((e-10)/2);return(a=t?a+t:a)<0?"".concat(a):"+".concat(a)}function le(e){return"ranged weapon"===e.type.toLowerCase()}var ie=[{label:"Acrobatics",check:"dex"},{label:"Animal Handling",check:"wis"},{label:"Arcana",check:"int"},{label:"Athletics",check:"str"},{label:"Deception",check:"cha"},{label:"History",check:"int"},{label:"Insight",check:"wis"},{label:"Intimidation",check:"cha"},{label:"Investigation",check:"int"},{label:"Medicine",check:"wis"},{label:"Nature",check:"int"},{label:"Perception",check:"wis"},{label:"Performance",check:"cha"},{label:"Persuasion",check:"cha"},{label:"Religion",check:"int"},{label:"Sleight of Hand",check:"dex"},{label:"Stealth",check:"dex"},{label:"Survival",check:"wis"}];function oe(){var e=Object(o.a)(["\n      font-size: 12px;\n      font-style: italic;\n    "]);return oe=function(){return e},e}function ue(){var e=Object(o.a)(["\n      display: flex;\n      margin-top: .62em;\n    "]);return ue=function(){return e},e}function se(e){var t=e.character,a=e.save,n=e.add,c=e.linkTo,l=e.open,i=e.highlight;return r.a.createElement(U,{style:i?{background:"lightblue"}:{}},r.a.createElement(K,null,r.a.createElement(H,null,r.a.createElement("b",null,t.info.name),r.a.createElement("p",null,t.race.name," ",t.class.name)),r.a.createElement(Q,null),r.a.createElement(q,null,c&&r.a.createElement(v.b,{to:c},r.a.createElement(O.a,null,r.a.createElement("i",{className:"material-icons"},"fullscreen"))),l&&r.a.createElement(O.a,{onClick:l},r.a.createElement("i",{className:"material-icons"},"fullscreen")),n&&r.a.createElement(O.a,{onClick:n},r.a.createElement("i",{className:"material-icons"},"group_add")),a&&r.a.createElement(O.a,{onClick:a},r.a.createElement("i",{className:"material-icons"},"save")))),r.a.createElement(fe,null,r.a.createElement(re.a,{variant:"outlined",disabled:!0,type:"number",label:"Level",value:t.level.level}),r.a.createElement(re.a,{variant:"outlined",disabled:!0,type:"number",label:"Hit Points",value:t.info.hp}),r.a.createElement(re.a,{variant:"outlined",disabled:!0,type:"number",label:"Initiative",value:t.info.initiative||""})),r.a.createElement(pe,null,"Passive Perception: ",10+parseInt(ce(t.info.stats.wis))),r.a.createElement(R,null,r.a.createElement("p",null,"Created by ",r.a.createElement("b",null,t.info.owner))))}var me=se;se.defaultProps={save:null,add:null,linkTo:null,open:null,highlight:!1};var fe=d.a.div(ue()),pe=d.a.p(oe()),de=a(21),be=a(165),he=a(127),ve=a(177),Ee=a(182),ge=a(180),je=a(183),Oe=a(178);function ye(){var e=Object(o.a)(["\n  display: grid;\n  grid-template-columns: repeat(auto-fill, 150px);\n  grid-gap: 10px;\n  margin: 10px 0px;\n  justify-content: center;\n"]);return ye=function(){return e},e}function xe(){var e=Object(o.a)(["\n  display: flex;\n  margin-top: 0.62em;\n"]);return xe=function(){return e},e}var we=function(e){var t=e.races,a=e.classes,c=e.save,l=Object(n.useState)({}),i=Object(p.a)(l,2),o=i[0],u=i[1];function d(e,t){return function(a){return u(Object(m.a)({},o,Object(de.a)({},e,t?+a.target.value:a.target.value)))}}function b(e){var t=o.proSkills||[],a=t.findIndex(function(t){return t===e.target.value});u(-1===a?Object(m.a)({},o,{proSkills:[].concat(Object(ee.a)(t),[e.target.value])}):Object(m.a)({},o,{proSkills:[].concat(Object(ee.a)(t.slice(0,a)),Object(ee.a)(t.slice(a+1)))}))}function h(){return(h=Object(f.a)(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:u({}),c(o);case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}return r.a.createElement(U,null,r.a.createElement(K,null,r.a.createElement("h4",null,"New Character"),r.a.createElement(Q,null),r.a.createElement(q,null,r.a.createElement(O.a,{onClick:function(){return h.apply(this,arguments)}},r.a.createElement("i",{className:"material-icons"},"done")))),r.a.createElement(ke,null,r.a.createElement(re.a,{variant:"outlined",label:"Name",onChange:d("name")}),r.a.createElement(A,null,r.a.createElement(re.a,{variant:"outlined",label:"HP",type:"number",onChange:d("maxHP",!0)}))),r.a.createElement(ke,null,r.a.createElement(be.a,{variant:"outlined",style:{minWidth:120}},r.a.createElement(he.a,{htmlFor:"race"},"Race"),r.a.createElement(ve.a,{value:o.race||"",onChange:function(e){var a=t.find(function(t){return t.name===e.target.value});u(Object(m.a)({},o,{race:a.name,speed:a.speed}))},input:r.a.createElement(Ee.a,{id:"race"})},t.map(function(e){return r.a.createElement(ge.a,{key:e.name,value:e.name},e.name)}))),r.a.createElement(Q,null),r.a.createElement(be.a,{variant:"outlined",style:{minWidth:120}},r.a.createElement(he.a,{htmlFor:"class"},"Class"),r.a.createElement(ve.a,{value:o.class||"",onChange:d("class"),input:r.a.createElement(Ee.a,{id:"class"})},a.map(function(e){return r.a.createElement(ge.a,{key:e.name,value:e.name},e.name)})))),r.a.createElement(ne.a,null),r.a.createElement(K,null,r.a.createElement("p",null,r.a.createElement("strong",null,"Proficient Skills"))),r.a.createElement(Ce,null,ie.map(function(e){var t=e.label;return r.a.createElement(je.a,{key:t,control:r.a.createElement(Oe.a,{checked:o.proSkills&&-1!==o.proSkills.indexOf(t)||!1,value:t,onChange:b,color:"primary"}),label:t})})))},ke=d.a.div(xe()),Ce=d.a.div(ye()),Se="https://wizardsbrew.herokuapp.com",Ne=function(){var e=Object(f.a)(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(Se,"/api"));case 2:return t=e.sent,e.abrupt("return",t.text());case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),Ie=function(){var e=Object(f.a)(s.a.mark(function e(){var t,a,n=arguments;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:"",e.next=3,fetch("".concat(Se,"/api/data/pc/").concat(t,"?detail=true"));case 3:return a=e.sent,e.abrupt("return",a.json());case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),Te=function(){var e=Object(f.a)(s.a.mark(function e(t,a){var n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(Se,"/api/characters/").concat(t,"/auth-users?user=").concat(a));case 2:return n=e.sent,e.abrupt("return",n.json());case 4:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),Pe={getCharacter:Ie,saveCharacter:function(){var e=Object(f.a)(s.a.mark(function e(t){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(Se,"/api/data/pc"),{method:"POST",body:JSON.stringify(t.info),headers:{"Content-Type":"application/json"}});case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",!1);case 9:return e.abrupt("return",!0);case 10:case"end":return e.stop()}},e,null,[[0,5]])}));return function(t){return e.apply(this,arguments)}}(),watchCharacters:function(e){return new WebSocket("ws://".concat(Se,"/api/characters?id=").concat(e.join(),"&watch=true"))},getCharactersByOwner:function(){var e=Object(f.a)(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(Se,"/api/data/pc?detail=true"));case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),getWelcome:Ne,getLevelInfo:function(){var e=Object(f.a)(s.a.mark(function e(t){var a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(Se,"/api/level?xp=").concat(t));case 2:return a=e.sent,e.abrupt("return",a.json());case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),checkUserAuth:Te,getRaces:function(){var e=Object(f.a)(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(Se,"/api/races"));case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),getClasses:function(){var e=Object(f.a)(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(Se,"/api/classes"));case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),getClass:function(){var e=Object(f.a)(s.a.mark(function e(t){var a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(Se,"/api/classes/").concat(t));case 2:return a=e.sent,e.abrupt("return",a.json());case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),getRace:function(){var e=Object(f.a)(s.a.mark(function e(t){var a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(Se,"/api/races/").concat(t));case 2:return a=e.sent,e.abrupt("return",a.json());case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),getWeapons:function(){var e=Object(f.a)(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(Se,"/api/items?type=weapon"));case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),getSpells:function(){var e=Object(f.a)(s.a.mark(function e(t){var a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(Se,"/api/spells?name=").concat(t.join()));case 2:return a=e.sent,e.abrupt("return",a.json());case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),getSpellsForLevel:function(){var e=Object(f.a)(s.a.mark(function e(t){var a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(Se,"/api/spells?level=").concat(t));case 2:return a=e.sent,e.abrupt("return",a.json());case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),getFeats:function(){var e=Object(f.a)(s.a.mark(function e(t){var a,n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t?"?id=".concat(t.join()):"",e.next=3,fetch("".concat(Se,"/api/feats").concat(a));case 3:return n=e.sent,e.abrupt("return",n.json());case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},Le=a(181);var De=function(e){var t=e.name,a=e.members,c=Object(n.useState)(!0),l=Object(p.a)(c,2),i=l[0],o=l[1];return i?r.a.createElement(Le.a,{label:t,style:{margin:"0.5rem"},variant:"contained",component:"a",color:"secondary",href:"/character?id=".concat(a.join()),clickable:!0,onClick:function(){localStorage.setItem("selected",t)},onDelete:function(e){e.preventDefault();var a=JSON.parse(localStorage.getItem("parties")),n=a.findIndex(function(e){return e.name===t});-1!==n&&a.splice(n,1),localStorage.setItem("parties",JSON.stringify(a)),o(!1)}}):null};function ze(){var e=Object(o.a)(["\n  position: relative;\n  width: 100vw;\n  display: grid;\n  grid-template-columns: repeat(auto-fill, 22em);\n  grid-gap: 0.625em;\n  justify-content: center;\n"]);return ze=function(){return e},e}var We=function(e){var t=e.owner,a=Object(n.useState)([]),c=Object(p.a)(a,2),l=c[0],i=c[1],o=Object(n.useState)([]),u=Object(p.a)(o,2),d=u[0],b=u[1],h=Object(n.useState)([]),E=Object(p.a)(h,2),g=E[0],j=E[1],O=Object(n.useState)([]),y=Object(p.a)(O,2),x=y[0],w=y[1],k=Object(n.useState)([]),C=Object(p.a)(k,2),S=C[0],N=C[1],I=Object(n.useState)(!1),T=Object(p.a)(I,2),P=T[0],L=T[1],D=Object(n.useState)(!0),z=Object(p.a)(D,2),W=z[0],F=z[1];function _(){return q.apply(this,arguments)}function q(){return(q=Object(f.a)(s.a.mark(function e(){var a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pe.getCharactersByOwner(t);case 2:a=e.sent,i(a||[]);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function A(e){var t=S.indexOf(e);N(-1!==t?[].concat(Object(ee.a)(S.slice(0,t)),Object(ee.a)(S.slice(t+1))):[].concat(Object(ee.a)(S),[e]))}function J(){return(J=Object(f.a)(s.a.mark(function e(){var t,a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pe.getRaces();case 2:return t=e.sent,w(t),e.next=6,Pe.getClasses();case 6:a=e.sent,j(a);case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function R(){return(R=Object(f.a)(s.a.mark(function e(a){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pe.saveCharacter(Object(m.a)({},a,{owner:t}));case 2:L(!1),_();case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}Object(n.useEffect)(function(){!function(){var e=Object(f.a)(s.a.mark(function e(){var a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pe.getCharactersByOwner(t);case 2:a=e.sent,i(a||[]),F(!1);case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()();var e=JSON.parse(localStorage.getItem("parties"));e&&b(e)},[t]),Object(n.useEffect)(function(){!P||x.length||g.length||function(){J.apply(this,arguments)}()},[P,g.length,x.length]);var K=l.filter(function(e){return e.owner===t}).map(function(e){return r.a.createElement(me,{key:e.info.id,character:e,highlight:-1!==S.indexOf(e.info.id),add:function(){return A(e.info.id)},linkTo:"/character?id=".concat(e.info.id)})}),G=l.filter(function(e){return e.owner!==t}).map(function(e){return r.a.createElement(me,{key:e.info.id,character:e,highlight:-1!==S.indexOf(e.info.id),add:function(){return A(e.info.id)},linkTo:"/character?id=".concat(e.info.id)})}),Q=d.map(function(e){return r.a.createElement(De,{key:e.name,name:e.name,members:e.members})});return W?r.a.createElement(M,null,r.a.createElement(te.a,{style:{justifySelf:"center"}})):r.a.createElement(H,null,r.a.createElement(Y,null,r.a.createElement(ae.a,{size:"small",color:"secondary",onClick:function(){return L(!P)}},r.a.createElement("i",{className:"material-icons"},P?"close":"add"))),!!Q.length&&r.a.createElement(U,null,r.a.createElement($,null,r.a.createElement("h3",null,"Parties: "),Q)),r.a.createElement(Fe,null,K,P&&r.a.createElement(we,{races:x,classes:g,save:function(e){return R.apply(this,arguments)}})),!!G.length&&r.a.createElement(r.a.Fragment,null,r.a.createElement(ne.a,null),r.a.createElement(Fe,null,G)),!!S.length&&r.a.createElement(B,null,r.a.createElement(v.b,{onClick:function(){localStorage.removeItem("selected")},to:"/character?id=".concat(S.join()),style:{zIndex:10}},r.a.createElement(ae.a,{color:"secondary"},r.a.createElement("i",{className:"material-icons"},"group")))))},Fe=d.a.div(ze()),_e=a(176),qe=a(171),Ae=a(170);function Be(){var e=Object(o.a)(["\n  margin: 3px 0px;\n  font-size: .8em;\n"]);return Be=function(){return e},e}var Ue=function(e){var t=e.character,a=e.hitDice,c=e.update,l=e.disabled,i=e.editing,o=Object(n.useState)({}),u=Object(p.a)(o,2),s=u[0],f=u[1];function d(e){return function(t){return f(Object(m.a)({},s,Object(de.a)({},e,t.target.value)))}}function b(e,a,n){return function(r){var l=n?+r.target.value:r.target.value;c(Object(m.a)({},t,Object(de.a)({},e,Object(m.a)({},t.info,Object(de.a)({},a,l)))))}}function h(e,a){return function(){var n=t.info[e]||[];c(Object(m.a)({},t,{info:Object(m.a)({},t.info,Object(de.a)({},e,[].concat(Object(ee.a)(n),[s[a]])))})),f(Object(m.a)({},s,Object(de.a)({},a,"")))}}function v(e,a){return function(){var n=[].concat(Object(ee.a)(t.info[e].slice(0,a)),Object(ee.a)(t.info[e].slice(a+1)));c(Object(m.a)({},t,{info:Object(m.a)({},t.info,Object(de.a)({},e,n))}))}}return r.a.createElement(U,null,r.a.createElement($,{style:{alignItems:"center",justifyContent:"flex-end"}},r.a.createElement(H,null,i?r.a.createElement(re.a,{label:"Name",value:t.info.name,onChange:b("info","name")}):r.a.createElement("h2",{style:{margin:0}},t.info.name),r.a.createElement("p",{style:{margin:0}},t.race.name," ",t.class.name)),r.a.createElement(Q,null),r.a.createElement(Ae.a,{badgeContent:"+".concat(t.level.proBonus),color:"secondary"},r.a.createElement(A,null,i?r.a.createElement(re.a,{variant:"outlined",type:"number",label:"XP",value:t.info.xp,onChange:b("info","xp",!0)}):r.a.createElement(re.a,{variant:"outlined",disabled:!0,type:"number",label:"Level",value:t.level.level}))),r.a.createElement(A,null,i?r.a.createElement(re.a,{variant:"outlined",disabled:l,type:"number",label:"Max HP",value:t.info.maxHP,helperText:"".concat(a),onChange:b("info","maxHP",!0)}):r.a.createElement(re.a,{variant:"outlined",disabled:l,type:"number",label:"HP/".concat(t.info.maxHP),value:t.info.hp,helperText:"".concat(a),onChange:b("info","hp",!0)})),r.a.createElement(A,null,r.a.createElement(re.a,{variant:"outlined",disabled:!i,type:"number",label:"AC",value:0})),r.a.createElement(A,null,r.a.createElement(re.a,{variant:"outlined",disabled:!i,type:"number",label:"Speed",value:t.race.speed})),r.a.createElement(Ae.a,{badgeContent:ce(t.info.stats.dex),color:"secondary"},r.a.createElement(A,null,r.a.createElement(re.a,{variant:"outlined",disabled:l,type:"number",label:"Init",value:t.info.initiative||"",onChange:b("info","initiative",!0)})))),i&&!l?r.a.createElement(r.a.Fragment,null,r.a.createElement(K,{style:{marginTop:"1em"}},"Known Languages"),r.a.createElement($,null,t.info.languages&&t.info.languages.map(function(e,t){return r.a.createElement(Le.a,{key:"pro-".concat(e),label:e,onDelete:i&&!l?v("languages",t):null,color:"primary"})}),r.a.createElement(re.a,{label:"New Language",value:s.newLang||"",onChange:d("newLang")}),r.a.createElement(O.a,{color:"primary",onClick:h("languages","newLang")},r.a.createElement("i",{className:"material-icons"},"done")))):r.a.createElement($,{style:{justifyContent:"space-between"}},r.a.createElement(H,null,r.a.createElement(He,null,r.a.createElement("b",null,"Known Languages:")," ",t.info.languages&&t.info.languages.length?t.info.languages.join():r.a.createElement("i",null,"none")),r.a.createElement(He,null,r.a.createElement("b",null,"Tools Proficiencies:")," ",t.info.proTools&&t.info.proTools.length?t.info.proTools.join():r.a.createElement("i",null,"none")),r.a.createElement(He,null,r.a.createElement("b",null,"Passive Perception:")," ",10+parseInt(ce(t.info.stats.wis))," "))),i&&!l&&r.a.createElement(r.a.Fragment,null,r.a.createElement(K,{style:{marginTop:"1em"}},"Tool Proficiencies"),r.a.createElement($,null,t.info.proTools&&t.info.proTools.map(function(e,t){return r.a.createElement(Le.a,{key:"pro-".concat(e),label:e,onDelete:i&&!l?v("proTools",t):null,color:"primary"})}),r.a.createElement(re.a,{label:"New Tool",value:s.newTool||"",onChange:d("newTool")}),r.a.createElement(O.a,{color:"primary",onClick:h("proTools","newTool")},r.a.createElement("i",{className:"material-icons"},"done")))))},He=d.a.p(Be());function Je(){var e=Object(o.a)(["\n  display: grid;\n  grid-template-columns: 1fr 1fr 1fr;\n  grid-template-rows: 1fr 1fr;\n  grid-gap: .625em;\n"]);return Je=function(){return e},e}var Re=function(e){var t=e.character,a=e.saves,n=e.update,c=e.disabled,l=t.info.stats;function i(e){return function(a){var r=t.info,c=+a.target.value,l=Object(m.a)({},r,{stats:Object(m.a)({},r.stats,Object(de.a)({},e,c))});n(Object(m.a)({},t,{info:l}))}}function o(e){return-1===a.toLowerCase().indexOf(e)?0:t.level.proBonus}return r.a.createElement(U,null,r.a.createElement(K,null,r.a.createElement("h2",null,"Stats")),r.a.createElement(Ke,null,r.a.createElement(Ae.a,{badgeContent:c?l.str:ce(l.str),color:"secondary"},r.a.createElement(re.a,{variant:"outlined",disabled:c,type:c?"mod":"number",label:"Strength",value:c?ce(l.str):l.str,onChange:i("str"),helperText:"Save: ".concat(ce(l.str,o("str")))})),r.a.createElement(Ae.a,{badgeContent:c?l.dex:ce(l.dex),color:"secondary"},r.a.createElement(re.a,{variant:"outlined",disabled:c,type:c?"mod":"number",label:"Dexterity",value:c?ce(l.dex):l.dex,onChange:i("dex"),helperText:"Save: ".concat(ce(l.dex,o("dex")))})),r.a.createElement(Ae.a,{badgeContent:c?l.con:ce(l.con),color:"secondary"},r.a.createElement(re.a,{variant:"outlined",disabled:c,type:c?"mod":"number",label:"Constitution",value:c?ce(l.con):l.con,onChange:i("con"),helperText:"Save: ".concat(ce(l.con,o("con")))})),r.a.createElement(Ae.a,{badgeContent:c?l.int:ce(l.int),color:"secondary"},r.a.createElement(re.a,{variant:"outlined",disabled:c,type:c?"mod":"number",label:"Intelligence",value:c?ce(l.int):l.int,onChange:i("int"),helperText:"Save: ".concat(ce(l.int,o("int")))})),r.a.createElement(Ae.a,{badgeContent:c?l.wis:ce(l.wis),color:"secondary"},r.a.createElement(re.a,{variant:"outlined",disabled:c,type:c?"mod":"number",label:"Wisdom",value:c?ce(l.wis):l.wis,onChange:i("wis"),helperText:"Save: ".concat(ce(l.wis,o("wis")))})),r.a.createElement(Ae.a,{badgeContent:c?l.cha:ce(l.cha),color:"secondary"},r.a.createElement(re.a,{variant:"outlined",disabled:c,type:c?"mod":"number",label:"Charisma",value:c?ce(l.cha):l.cha,onChange:i("cha"),helperText:"Save: ".concat(ce(l.cha,o("cha")))}))))},Ke=d.a.div(Je()),Me=function(e){var t=e.character,a=e.editing,c=e.update,l=Object(n.useState)(ie),i=Object(p.a)(l,2),o=i[0],u=i[1],s=Object(n.useState)(""),f=Object(p.a)(s,2),d=f[0],b=f[1];function h(e){var a=t.info.proSkills||[],n=a.findIndex(function(t){return t===e.target.value});c(-1===n?Object(m.a)({},t,{info:Object(m.a)({},t.info,{proSkills:[].concat(Object(ee.a)(a),[e.target.value])})}):Object(m.a)({},t,{info:Object(m.a)({},t.info,{proSkills:[].concat(Object(ee.a)(a.slice(0,n)),Object(ee.a)(a.slice(n+1)))})}))}return Object(n.useEffect)(function(){var e=d.toLowerCase(),t=d?ie.filter(function(t){return 0===t.label.toLowerCase().indexOf(e)}):ie;u(t)},[d]),r.a.createElement(U,null,r.a.createElement(K,null,r.a.createElement("h2",null,"Skills"),r.a.createElement(Q,null),r.a.createElement(q,{style:{marginBottom:"0.3125em"}},r.a.createElement(re.a,{label:"Search",value:d,onChange:function(e){return b(e.target.value)}}))),a?o.map(function(e){var a=e.label;return r.a.createElement(je.a,{key:a,control:r.a.createElement(Oe.a,{checked:t.info.proSkills&&-1!==t.info.proSkills.indexOf(a)||!1,value:a,onChange:h,color:"primary"}),label:a})}):o.map(function(e){var a=function(e,t){return!!e&&-1!==e.findIndex(function(e){return e===t})}(t.info.proSkills,e.label);return r.a.createElement("div",{key:e.label},r.a.createElement($,null,r.a.createElement("i",{className:"material-icons"},a?"radio_button_checked":"radio_button_unchecked"),r.a.createElement("p",{style:{margin:"0.3125em"}},e.label),r.a.createElement(Q,null),r.a.createElement("h4",{style:{margin:"0.3125em"}},ce(t.info.stats[e.check],a?t.level.proBonus:0))),r.a.createElement(ne.a,null))}))},$e=a(166);function Ge(){var e=Object(o.a)(["\n  margin: 0.5rem;\n"]);return Ge=function(){return e},e}var Qe=function(e){var t=e.proWeapons,a=e.weaponList,c=e.weaponIDs,l=e.dex,i=e.str,o=e.proBonus,u=e.update,d=e.disabled,b=Object(n.useState)(!1),h=Object(p.a)(b,2),v=h[0],E=h[1],g=Object(n.useState)(!1),j=Object(p.a)(g,2),y=j[0],x=j[1],w=Object(n.useState)(a),k=Object(p.a)(w,2),C=k[0],S=k[1],N=Object(n.useState)(!1),I=Object(p.a)(N,2),T=I[0],P=I[1],L=Object(n.useState)([]),D=Object(p.a)(L,2),z=D[0],W=D[1],F=Object(n.useState)({}),_=Object(p.a)(F,2),B=_[0],J=_[1],R=Object(n.useState)([]),M=Object(p.a)(R,2),G=M[0],V=M[1],X=Object(n.useState)([]),Y=Object(p.a)(X,2),Z=Y[0],te=Y[1],ae=Object(n.useState)({name:"",category:"",damage_dice:"",damage_type:"",properties:[]}),ne=Object(p.a)(ae,2),ie=ne[0],oe=ne[1];function ue(){return(ue=Object(f.a)(s.a.mark(function e(){var t,a,n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pe.getWeapons();case 2:t=e.sent,a=new Set,n=new Set,t.forEach(function(e){a.add(e.weapon.category),n.add(e.weapon.damageType.trim())}),V(Object(ee.a)(a)),te(Object(ee.a)(n)),W(t);case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}function se(e){oe(function(t){return Object(m.a)({},t,Object(de.a)({},e.target.name,e.target.value))})}function me(e){return function(t){var a=ie;a[e]="properties"===e?[t.target.value]:t.target.value,oe(a)}}return Object(n.useEffect)(function(){y&&!z.length&&function(){ue.apply(this,arguments)}()},[y,z.length]),r.a.createElement(U,null,r.a.createElement(K,null,r.a.createElement("h2",null,"Weapons"),r.a.createElement(Q,null),!d&&r.a.createElement(q,null,r.a.createElement(O.a,{onClick:function(){x(!y),P(!1)}},r.a.createElement("i",{className:"material-icons"},y?"close":"add")),r.a.createElement(O.a,{onClick:function(){return E(!v)}},r.a.createElement("i",{className:"material-icons"},v?"check":"edit")))),y&&!T&&r.a.createElement($,null,r.a.createElement(be.a,{variant:"outlined",style:{minWidth:120}},r.a.createElement(he.a,{htmlFor:"class"},"Weapon Select"),r.a.createElement(ve.a,{value:B.name||"",onChange:function(e){var t=z.find(function(t){return t.name===e.target.value});J(t)},input:r.a.createElement(Ee.a,{id:"weapon"})},z.map(function(e){return r.a.createElement(ge.a,{key:e.name,value:e.name},e.name)}))),r.a.createElement(Q,null),r.a.createElement(O.a,{onClick:function(){u([].concat(Object(ee.a)(c),[+B.id])),x(!1),S([].concat(Object(ee.a)(C),[B])),J({})}},r.a.createElement("i",{className:"material-icons"},"done")),r.a.createElement($,null,r.a.createElement("h2",null,"Can't find your weapon?"))),T&&r.a.createElement(r.a.Fragment,null,r.a.createElement($,null,r.a.createElement("h3",null,"Add Unique Weapon"),r.a.createElement(Q,null)),r.a.createElement($,null,r.a.createElement(Ve,null,r.a.createElement($e.a,{htmlFor:"unique-category"},"Name"),r.a.createElement(re.a,{style:{width:"7rem"},variant:"outlined",onChange:me("name")})),r.a.createElement(Ve,null,r.a.createElement($e.a,{htmlFor:"unique-category"},"Category"),r.a.createElement(ve.a,{style:{width:"7rem"},variant:"outlined",inputProps:{name:"category",id:"unique-category"},input:r.a.createElement(Ee.a,{id:"weapon"}),value:ie.category,onChange:se},G.map(function(e){return r.a.createElement(ge.a,{key:e,value:e},e)}))),r.a.createElement(Ve,null,r.a.createElement($e.a,{htmlFor:"unique-category"},"Damage Dice"),r.a.createElement(re.a,{style:{width:"7rem"},variant:"outlined",placeholder:"1d4",onChange:me("damage_dice")}))),r.a.createElement($,null,r.a.createElement(Ve,null,r.a.createElement($e.a,{htmlFor:"unique-damage-type"},"Damage Type"),r.a.createElement(ve.a,{style:{width:"7rem"},variant:"outlined",inputProps:{name:"damage_type",id:"unique-damage-type"},input:r.a.createElement(Ee.a,{id:"weapon"}),value:ie.damage_type,onChange:se},Z.map(function(e){return r.a.createElement(ge.a,{key:e,value:e},e)}))),r.a.createElement(Ve,null,r.a.createElement($e.a,{htmlFor:"unique-category"},"Weight"),r.a.createElement(re.a,{style:{width:"7rem"},variant:"outlined",onChange:me("weight")})),r.a.createElement(Ve,null,r.a.createElement($e.a,{htmlFor:"unique-category"},"Properties"),r.a.createElement(re.a,{style:{width:"7rem"},variant:"outlined",onChange:me("properties")}))),r.a.createElement($,null,r.a.createElement(qe.a,{variant:"contained",color:"primary",className:"submit-button",onClick:function(){u([].concat(Object(ee.a)(a),[ie])),P(!1),x(!1),oe({})}},"Submit Weapon"))),C.map(function(e,a){var n,s=-1!==(n=e).weapon.category.toLowerCase().indexOf("range")||!!n.weapon&&void 0,m=function(e,t){return!!t&&(!!t.find(function(t){return t.indexOf(e.name.toLowerCase())})||!!e.weapon.category.split(" ").map(function(e){return e.toLowerCase()}).find(function(e){return!!t.find(function(t){return t.indexOf(e)})}))}(e,t)?o:0,f=ce(s?l:i,m),p=le(e)?ce(l,m):0,d=ce(s?l:i),b=le(e)?ce(l):0;return r.a.createElement($,{key:"".concat(e.name)},v&&r.a.createElement(O.a,{color:"secondary",onClick:function(){return function(e){var t=C.filter(function(t){return t.id!=="".concat(e)});S(t);var a=c.indexOf(e);u([].concat(Object(ee.a)(c.slice(0,a)),Object(ee.a)(c.slice(a+1))))}(+e.id)}},r.a.createElement("i",{className:"material-icons"},"delete")),r.a.createElement(H,null,r.a.createElement("h3",{className:"min-margin"},e.name),r.a.createElement("p",{className:"min-margin"},e.weapon.damageType)),r.a.createElement(Q,null),r.a.createElement(A,null,r.a.createElement(re.a,{variant:"outlined",disabled:!0,label:"Attack",value:f,helperText:!s&&p?"thrown: ".concat(p):""})),r.a.createElement(A,null,r.a.createElement(re.a,{variant:"outlined",disabled:!0,label:"Damage",value:"".concat(e.weapon.damage," ").concat(d),helperText:!s&&b?"thrown: ".concat(b):""})))}))},Ve=d.a.div(Ge()),Xe=function(e){var t=e.itemList,a=e.gold,c=e.update,l=e.disabled,i=Object(n.useState)(!1),o=Object(p.a)(i,2),u=o[0],s=o[1],f=Object(n.useState)(!1),d=Object(p.a)(f,2),b=d[0],h=d[1],v=Object(n.useState)({}),E=Object(p.a)(v,2),g=E[0],j=E[1],y=Object(n.useState)(a),x=Object(p.a)(y,2),w=x[0],k=x[1],C=Object(n.useState)(t.map(function(){return!1})),S=Object(p.a)(C,2),N=S[0],I=S[1];function T(e,t){return function(a){j(Object(m.a)({},g,Object(de.a)({},e,t?+a.target.value:a.target.value)))}}function P(e){var a=t[e];return function(n){var r=+n.target.value;c(w,[].concat(Object(ee.a)(t.slice(0,e)),[Object(m.a)({},a,{qty:r})],Object(ee.a)(t.slice(e+1))))}}return Object(n.useEffect)(function(){return k(a)},[a]),r.a.createElement(U,null,r.a.createElement(K,null,r.a.createElement("h2",null,"Inventory"),r.a.createElement(Q,null),!l&&r.a.createElement(q,null,r.a.createElement(O.a,{onClick:function(){return s(!u)}},r.a.createElement("i",{className:"material-icons"},u?"close":"add")),r.a.createElement(O.a,{onClick:function(){h(!b),j({})}},r.a.createElement("i",{className:"material-icons"},b?"check":"edit")))),u&&r.a.createElement(H,null,r.a.createElement($,null,r.a.createElement(re.a,{style:{maxWidth:100},variant:"outlined",type:"number",label:"Value (gp)",value:g.goldCost||"",onChange:T("goldCost",!0)}),r.a.createElement(re.a,{style:{maxWidth:150},variant:"outlined",label:"Name",value:g.name||"",onChange:T("name")}),r.a.createElement(re.a,{style:{maxWidth:100},variant:"outlined",type:"number",label:"Qty",value:g.qty||"",onChange:T("qty",!0)}),r.a.createElement(Q,null),r.a.createElement(O.a,{onClick:function(){g.qty||(g.qty=1),c(w,[].concat(Object(ee.a)(t),[g])),s(!1),j({})}},r.a.createElement("i",{className:"material-icons"},"done"))),r.a.createElement(re.a,{variant:"outlined",label:"Description (optional)",value:g.description||"",onChange:T("description")})),r.a.createElement($,{style:{justifyContent:"flex-end"}},r.a.createElement(re.a,{disabled:l,style:{maxWidth:150},variant:"outlined",type:"number",label:"Gold Pieces",value:a||0,onChange:function(e){var a=+e.target.value;c(a,t),k(a)}})),t.map(function(e,a){return r.a.createElement(H,{key:"".concat(e.name)},console.log(e),r.a.createElement($,{style:{alignItems:"center"}},b&&r.a.createElement(O.a,{color:"secondary",onClick:function(){return function(e){c(w,[].concat(Object(ee.a)(t.slice(0,e)),Object(ee.a)(t.slice(e+1))))}(a)}},r.a.createElement("i",{className:"material-icons"},"delete")),r.a.createElement("h4",{className:"min-margin"},e.name),(e.description||!!e.goldCost)&&r.a.createElement(O.a,{onClick:function(){return function(e){I([].concat(Object(ee.a)(N.slice(0,e)),[!N[e]],Object(ee.a)(N.slice(e+1))))}(a)}},r.a.createElement("i",{className:"material-icons"},N[a]?"cancel":"info")),r.a.createElement(Q,null),r.a.createElement(A,null,r.a.createElement(re.a,{variant:"outlined",type:"number",disabled:l,label:"Qty",value:e.qty,onChange:P(a)}))),N[a]&&r.a.createElement("p",{className:"min-margin"},e.description?e.description:null,e.goldCost?"(".concat(e.goldCost," gp)"):null),r.a.createElement(ne.a,null))}))},Ye=a(184),Ze=a(172),et=a(173),tt=a(174),at=function(e){var t=e.spell;return r.a.createElement(H,null,r.a.createElement($,null,r.a.createElement(Le.a,{icon:r.a.createElement("i",{className:"material-icons"},"school"),label:t.school,variant:"outlined"}),r.a.createElement(Le.a,{icon:r.a.createElement("i",{className:"material-icons"},"timer"),label:t.casting_time,variant:"outlined"}),r.a.createElement(Le.a,{icon:r.a.createElement("i",{className:"material-icons"},"timelapse"),label:t.duration,variant:"outlined"}),r.a.createElement(Le.a,{icon:r.a.createElement("i",{className:"material-icons"},"wifi_tethering"),label:t.range,variant:"outlined"})),r.a.createElement("p",{className:"min-margin"},t.desc))},nt=function(e){var t=e.level,a=e.ability,c=e.spells,l=e.slots,i=e.addSpell,o=e.forgetSpell,u=e.mod,m=Object(n.useState)([]),d=Object(p.a)(m,2),b=d[0],h=d[1],v=Object(n.useState)([]),E=Object(p.a)(v,2),g=E[0],j=E[1],O=Object(n.useState)([]),y=Object(p.a)(O,2),x=y[0],w=y[1],k=Object(n.useState)(!1),C=Object(p.a)(k,2),S=C[0],N=C[1];function I(){return(I=Object(f.a)(s.a.mark(function e(){var a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pe.getSpellsForLevel(t);case 2:a=e.sent,w(a.filter(function(e){return!b.find(function(t){return t.slug===e.slug})}));case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}Object(n.useEffect)(function(){h(c.filter(function(e){return"Cantrip"===e.level&&"Cantrip"===t||e.level==="".concat(t,"-level")}))},[c,t]),Object(n.useEffect)(function(){var e=localStorage.getItem(t);if(!(e=e&&e.length===l?JSON.parse(e):[]).length)for(var a=0;a<l;a++)e.push(!1);j(e)},[l,t]),Object(n.useEffect)(function(){localStorage.setItem(t,JSON.stringify(g))},[g,t]);var T=S?r.a.createElement(qe.a,{onClick:function(){return N(!1)}},"Close"):r.a.createElement(qe.a,{color:"secondary",onClick:function(){x.length||function(){I.apply(this,arguments)}(),N(!0)}},"See Library");return r.a.createElement(U,null,r.a.createElement(K,null,r.a.createElement(H,null,r.a.createElement("h2",null,t," Level Spells"),r.a.createElement("p",null,r.a.createElement("b",null,a.slice(0,3),". Mod:")," ",u," | ",r.a.createElement("b",null,"DC:")," ",+u+8)),r.a.createElement(Q,null),r.a.createElement(q,null,g.map(function(e,a){return r.a.createElement(Oe.a,{key:"".concat(t,"-slot-").concat(a),checked:e,value:a,onChange:function(){return j([].concat(Object(ee.a)(g.slice(0,a)),[!e],Object(ee.a)(g.slice(a+1))))}})}))),b.map(function(e,t){return r.a.createElement(Ye.a,{key:e.name},r.a.createElement(Ze.a,null,e.name),r.a.createElement(et.a,null,r.a.createElement(at,{spell:e})),o&&r.a.createElement(tt.a,null,r.a.createElement(qe.a,{onClick:function(){return o(e)},variant:"contained",color:"secondary"},"Forget")))}),S&&r.a.createElement(r.a.Fragment,null,r.a.createElement(K,null,r.a.createElement("h2",null,"New Spells")),x.map(function(e){return r.a.createElement(Ye.a,{key:e.name},r.a.createElement(Ze.a,null,e.name),r.a.createElement(et.a,null,r.a.createElement(at,{spell:e})),r.a.createElement(tt.a,null,r.a.createElement(qe.a,{variant:"contained",color:"secondary",onClick:function(){return i(e)}},"Learn")))})),i&&T)},rt=function(e){var t=e.spells,a=e.classInfo,c=e.level,l=e.mod,i=e.update,o=e.disabled,u=Object(n.useState)([]),m=Object(p.a)(u,2),d=m[0],b=m[1];function h(e){i([].concat(Object(ee.a)(t),[e.slug]))}function v(e){var a=t.findIndex(function(t){return t===e.slug});i([].concat(Object(ee.a)(t.slice(0,a)),Object(ee.a)(t.slice(a+1))))}var E=r.a.createElement(nt,{level:"Cantrip",ability:a.spellcasting_ability,slots:0,spells:d||[],addSpell:o?null:h,forgetSpell:o?null:v,mod:l}),g=a.info.Level.map(function(e,t){return t>c-1||!a.info[e][c-1]?null:r.a.createElement(nt,{key:"".concat(e,"-level-spells"),level:e,ability:a.spellcasting_ability,slots:+a.info[e][c-1],spells:d||[],addSpell:o?null:h,forgetSpell:o?null:v,mod:l})});function j(){return(j=Object(f.a)(s.a.mark(function e(t){var a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pe.getSpells(t);case 2:a=e.sent,b(a);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}return Object(n.useEffect)(function(){!function(e){j.apply(this,arguments)}(t)},[t]),r.a.createElement(r.a.Fragment,null,E,g)},ct=function(e){var t,a=e.character,c=e.update,l=Object(n.useState)({}),i=Object(p.a)(l,2),o=i[0],u=i[1];function s(e,t){return function(){var n=[].concat(Object(ee.a)(a.info[e].slice(0,t)),Object(ee.a)(a.info[e].slice(t+1)));c(Object(m.a)({},a,{info:Object(m.a)({},a.info,Object(de.a)({},e,n))}))}}return r.a.createElement(U,null,r.a.createElement(K,{style:{marginTop:"2.5rem"}},r.a.createElement("h2",null,"Authorized Users")),r.a.createElement($,null,a.info.authUsers&&a.info.authUsers.map(function(e,t){return r.a.createElement(Le.a,{key:"user-".concat(e),label:e,onDelete:s("authUsers",t),color:"primary"})}),r.a.createElement(re.a,{label:"New Email",value:o.authEmail||"",onChange:(t="authEmail",function(e){return u(Object(m.a)({},o,Object(de.a)({},t,e.target.value)))})}),r.a.createElement(O.a,{color:"primary",onClick:function(e,t){return function(){var n=a.info[e]||[];c(Object(m.a)({},a,{info:Object(m.a)({},a.info,Object(de.a)({},e,[].concat(Object(ee.a)(n),[o[t]])))})),u(Object(m.a)({},o,Object(de.a)({},t,"")))}}("authUsers","authEmail")},r.a.createElement("i",{className:"material-icons"},"done"))))},lt=a(5),it=a(175),ot=a(65);function ut(){var e=Object(o.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  font-size: .8em;\n  justify-content: space-between;\n"]);return ut=function(){return e},e}var st=function(e){var t=e.id,a=Object(n.useState)({success1:!1,success2:!1,success3:!1,failure1:!1,failure2:!1,failure3:!1}),c=Object(p.a)(a,2),l=c[0],i=c[1];Object(n.useEffect)(function(){var e=localStorage.getItem("deathsaves_".concat(t));e&&(e=JSON.parse(e),i(e))},[t]);var o=function(e){var a=Object(m.a)({},l,Object(de.a)({},e.target.name,e.target.checked));localStorage.setItem("deathsaves_".concat(t),JSON.stringify(a)),i(a)};return r.a.createElement(U,null,r.a.createElement(mt,null,r.a.createElement("h2",{style:{margin:0}},"Death Saving Throws"),r.a.createElement($,null,r.a.createElement("h3",{style:{margin:0}},"Success"),r.a.createElement(ft,{checked:l.success1,onChange:o,name:"success1",value:"primary",inputProps:{"aria-label":"primary checkbox"}}),r.a.createElement(ft,{checked:l.success2,onChange:o,name:"success2",value:"primary",inputProps:{"aria-label":"primary checkbox"}}),r.a.createElement(ft,{checked:l.success3,onChange:o,name:"success3",value:"primary",inputProps:{"aria-label":"primary checkbox"}})),r.a.createElement($,null,r.a.createElement("h3",{style:{margin:0}},"Failure"),r.a.createElement(pt,{checked:l.failure1,onChange:o,name:"failure1",value:"primary",inputProps:{"aria-label":"primary checkbox"}}),r.a.createElement(pt,{checked:l.failure2,onChange:o,name:"failure2",value:"primary",inputProps:{"aria-label":"primary checkbox"}}),r.a.createElement(pt,{checked:l.failure3,onChange:o,name:"failure3",value:"primary",inputProps:{"aria-label":"primary checkbox"}}))))},mt=d.a.div(ut()),ft=Object(lt.a)({root:{"&$checked":{color:it.a[600]}},checked:{}})(function(e){return r.a.createElement(Oe.a,Object.assign({color:"default"},e))}),pt=Object(lt.a)({root:{"&$checked":{color:ot.a[600]}},checked:{}})(function(e){return r.a.createElement(Oe.a,Object.assign({color:"default"},e))});function dt(){var e=Object(o.a)(["\n    grid-area: etc;\n    display: flex;\n    flex-direction: column;\n  "]);return dt=function(){return e},e}function bt(){var e=Object(o.a)(["\n    grid-area: eqp;\n  "]);return bt=function(){return e},e}function ht(){var e=Object(o.a)(["\n    grid-area: wpn;\n  "]);return ht=function(){return e},e}function vt(){var e=Object(o.a)(["\n    grid-area: skill;\n  "]);return vt=function(){return e},e}function Et(){var e=Object(o.a)(["\n    grid-area: stat;\n  "]);return Et=function(){return e},e}function gt(){var e=Object(o.a)(["\n    grid-area: pro;\n  "]);return gt=function(){return e},e}function jt(){var e=Object(o.a)(["\n  position:fixed;\n  display:flex;\n  flex-direction: row;\n  z-index:1;\n  "]);return jt=function(){return e},e}function Ot(){var e=Object(o.a)(["\n    border-top:'1rem';\n    grid-area: admin;\n    display: flex;\n    flex-direction: column;\n  "]);return Ot=function(){return e},e}function yt(){var e=Object(o.a)(['\n    position: relative;\n    display: grid;\n    grid-gap: 0.625em;\n    grid-template-columns: 18.75em minmax(auto, 15.625em) minmax(auto, 12.5em);\n    grid-template-areas:\n      "admin admin admin"\n      "pro pro pro"\n      "skill stat stat"\n      "skill wpn wpn"\n      "skill eqp eqp"\n      "etc etc etc";\n  \n  @media screen and (max-width: 36em) {\n        display: flex;\n      flex-direction: column;\n    }\n  ']);return yt=function(){return e},e}var xt=function(e){var t=e.characterData,a=Object(n.useState)(t),c=Object(p.a)(a,2),l=c[0],i=c[1],o=Object(n.useState)(t),u=Object(p.a)(o,2),d=u[0],b=u[1],h=Object(n.useState)(!1),v=Object(p.a)(h,2),E=v[0],g=v[1],j=Object(n.useState)(!1),O=Object(p.a)(j,2),y=O[0],x=O[1],w=Object(n.useState)(!1),k=Object(p.a)(w,2),C=k[0],S=k[1],N=Object(n.useState)({}),I=Object(p.a)(N,2),T=I[0],P=I[1],L=d.info.stats;function D(e){var t,a;g((t=l,a=e,!(JSON.stringify(t)===JSON.stringify(a)))),b(e)}function z(){return W.apply(this,arguments)}function W(){return(W=Object(f.a)(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return g(!1),x(!1),e.next=4,Pe.saveCharacter(d);case 4:e.sent?i(d):g(!0);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function F(){g(!1),x(!1),b(l)}function _(){return(_=Object(f.a)(s.a.mark(function e(t){var a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Pe.getClass(t);case 4:a=e.sent,P(a);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}return Object(n.useEffect)(function(){b(t),S(t.authorized),function(e){_.apply(this,arguments)}(t.class.id),x(!1)},[t]),console.log(d),r.a.createElement(wt,null,C&&!y&&r.a.createElement(Y,null,E?r.a.createElement(Ct,null,r.a.createElement(ae.a,{color:"secondary",size:"small",style:{marginRight:"1rem"},onClick:F},r.a.createElement("i",{className:"material-icons"},"clear")),r.a.createElement(ae.a,{color:"secondary",size:"small",onClick:z},r.a.createElement("i",{className:"material-icons"},"save"))):r.a.createElement(ae.a,{color:"secondary",size:"small",onClick:function(){return x(!0)}},r.a.createElement("i",{className:"material-icons"},"edit"))),y&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Ct,null,r.a.createElement(ae.a,{color:"secondary",size:"small",style:{marginRight:"1rem"},onClick:F},r.a.createElement("i",{className:"material-icons"},"clear")),r.a.createElement("div",null),r.a.createElement(ae.a,{color:"secondary",size:"small",onClick:z},r.a.createElement("i",{className:"material-icons"},"save"))),r.a.createElement(kt,null,r.a.createElement(ct,{character:d,update:D}))),r.a.createElement(St,null,r.a.createElement(Ue,{character:d,hitDice:T.hitDice||"",update:D,disabled:!C,editing:y}),d.hp<=0?r.a.createElement(st,{id:d.id}):localStorage.removeItem("deathsaves_".concat(d.id))),r.a.createElement(Nt,null,r.a.createElement(Re,{character:d,saves:T.prof_saving_throws||"",update:D,disabled:!C||!y})),r.a.createElement(It,null,r.a.createElement(Me,{character:d,editing:y,update:D})),r.a.createElement(Tt,null,r.a.createElement(Qe,{disabled:!C,proWeapons:T.proWeapon||"",weaponList:d.weapons||[],weaponIDs:d.info.weaponIDs,dex:L.dex,str:L.str,proBonus:d.level.proBonus,update:function(e){return D(Object(m.a)({},d,{info:Object(m.a)({},d.info,{weaponIDs:e})}))}})),r.a.createElement(Pt,null,r.a.createElement(Xe,{disabled:!C,itemList:d.inventory||[],gold:d.info.gold,update:function(e,t){return D(Object(m.a)({},d,{info:Object(m.a)({},d.info,{gold:e}),inventory:t}))}})),r.a.createElement(Lt,null,T&&T.spellcasting_ability&&r.a.createElement(rt,{disabled:!C,classInfo:T,level:d.level,spells:d.spells||[],update:function(e){return D(Object(m.a)({},d,{spells:e}))},mod:ce(d[T.spellcasting_ability.toLowerCase().substring(0,3)],d.proBonus)})))},wt=d.a.div(yt()),kt=d.a.div(Ot()),Ct=d.a.div(jt()),St=d.a.div(gt()),Nt=d.a.div(Et()),It=d.a.div(vt()),Tt=d.a.div(ht()),Pt=d.a.div(bt()),Lt=d.a.div(dt());function Dt(){var e=Object(o.a)(["\n  margin-bottom: 4em;\n"]);return Dt=function(){return e},e}function zt(){var e=Object(o.a)(["\n  margin-bottom: 4em;\n"]);return zt=function(){return e},e}function Wt(){var e=Object(o.a)(["\n  margin: 1rem;\n"]);return Wt=function(){return e},e}var Ft=function(e){var t=e.location,a=Object(n.useState)(!1),c=Object(p.a)(a,2),l=c[0],i=c[1],o=Object(n.useState)([]),u=Object(p.a)(o,2),d=u[0],b=u[1],v=Object(n.useState)([]),E=Object(p.a)(v,2),g=E[0],j=E[1],y=Object(n.useState)(null),x=Object(p.a)(y,2),w=x[0],k=x[1],C=Object(n.useState)(""),S=Object(p.a)(C,2),N=S[0],I=S[1],T=Object(n.useState)(!1),P=Object(p.a)(T,2),L=P[0],D=P[1];function z(){return(z=Object(f.a)(s.a.mark(function e(t){var a,n,r;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=(a=localStorage.getItem("parties"))?JSON.parse(a):[],n=g.map(function(e){return e.id}),r={name:N,members:n},a.push(r),e.next=8,localStorage.setItem("parties",JSON.stringify(a));case 8:D(!0);case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}return Object(n.useEffect)(function(){var e=t.search.split("id=")[1].split(",");b(e);var a=localStorage.getItem("selected");function n(){return(n=Object(f.a)(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pe.getCharactersByOwner();case 2:t=e.sent,j(t);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}a&&(I(a),D(!0)),function(){n.apply(this,arguments)}()},[t.search]),Object(n.useEffect)(function(){var e=w&&w.info.id||d[0];!e||w&&w.info.id===e||k(g.find(function(t){return"".concat(t.info.id)===e}))},[g,d,w]),0!==g.length&&w?r.a.createElement(J,null,r.a.createElement(At,null,r.a.createElement(G,null,r.a.createElement(xt,{characterData:w})),g.length>1&&r.a.createElement(r.a.Fragment,null,r.a.createElement(V,{className:l?"open":""},r.a.createElement(_e.a,{style:{margin:".25rem",marginTop:"2rem"}},r.a.createElement(_t,null,L?r.a.createElement("h2",null,N):r.a.createElement("form",null,r.a.createElement($,null,r.a.createElement(re.a,{onChange:function(e){I(e.target.value)},label:"PartyName"}),r.a.createElement(Q,null),N.length>0&&r.a.createElement(O.a,{onClick:function(e){return z.apply(this,arguments)},color:"primary"},r.a.createElement("i",{className:"material-icons"},"save")))),r.a.createElement($,{style:{justifyContent:"space-between",marginTop:"0.5rem"}},r.a.createElement(qe.a,{variant:"contained",color:"primary",onClick:function(){var e=h.a.auth().currentUser.email;g.forEach(function(){var t=Object(f.a)(s.a.mark(function t(a){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Pe.checkUserAuth(a.id,e);case 2:t.sent.authorized&&Pe.saveCharacter(Object(m.a)({},a,{hp:a.maxHP}));case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())}},"Long Rest"),r.a.createElement(qe.a,{variant:"contained",color:"secondary",onClick:function(){var e=h.a.auth().currentUser.email;g.forEach(function(){var t=Object(f.a)(s.a.mark(function t(a){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Pe.checkUserAuth(a.id,e);case 2:t.sent.authorized&&Pe.saveCharacter(Object(m.a)({},a,{initiative:null}));case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())}},"Clear Initiative")))),r.a.createElement(qt,null,g.map(function(e){return r.a.createElement(me,{key:e.info.id,character:e,open:function(){return k(e)},highlight:w.info.id===e.info.id})}))),r.a.createElement(X,null,r.a.createElement(ae.a,{color:"secondary",onClick:function(){return i(!l)}},r.a.createElement("i",{className:"material-icons"},l?"close":"group")))))):r.a.createElement(M,null,r.a.createElement(te.a,{style:{justifySelf:"center"}}))},_t=d.a.div(Wt()),qt=d.a.div(zt()),At=d.a.div(Dt()),Bt=a(90),Ut=a.n(Bt);a(123);function Ht(){var e=Object(o.a)(["\n  display: flex;\n  margin-top: 5em;\n"]);return Ht=function(){return e},e}var Jt=function(){var e=Object(n.useState)(),t=Object(p.a)(e,2),a=t[0],c=t[1];function l(){return i.apply(this,arguments)}function i(){return(i=Object(f.a)(s.a.mark(function e(){var t,a,n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=new h.a.auth.GoogleAuthProvider,e.next=3,h.a.auth().signInWithPopup(t);case 3:a=e.sent,n=a.user,c({name:n.displayName,email:n.email,photo:n.photoURL});case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}return h.a.auth().onAuthStateChanged(function(){var e=Object(f.a)(s.a.mark(function e(t){var n,r;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=function(){console.info("No interceptor registered.")},!t){e.next=9;break}return e.next=4,h.a.auth().currentUser.getIdToken(!0);case 4:r=e.sent,n=Ut.a.register({request:function(e,t){return t=t||{},[e,t=Object(m.a)({},t,{headers:{Authorization:"Bearer ".concat(r)}})]}}),a||c({name:t.displayName,email:t.email,photo:t.photoURL}),e.next=12;break;case 9:n(),c(null),l();case 12:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),r.a.createElement(v.a,null,r.a.createElement("div",{className:"App "},r.a.createElement(Z,{user:a}),a&&r.a.createElement(Rt,null,r.a.createElement(E.a,{path:"/",exact:!0,component:function(){return r.a.createElement(We,{owner:a.email})}}),r.a.createElement(E.a,{path:"/character",exact:!0,component:function(e){return r.a.createElement(Ft,e)}}))))},Rt=d.a.div(Ht());Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Kt=a(124);i.initializeApp(Kt),l.a.render(r.a.createElement(Jt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},95:function(e,t,a){e.exports=a(125)}},[[95,1,2]]]);
//# sourceMappingURL=main.860fd96f.chunk.js.map